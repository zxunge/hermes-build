From fcf34b8ee881d56ce4400c3a48d8e9a3bff45040 Mon Sep 17 00:00:00 2001
From: zxunge <3396563372@qq.com>
Date: Mon, 14 Apr 2025 23:40:57 +0800
Subject: [PATCH] Fix rand_s().

---
 API/hermes_sandbox/external/wasm-rt-fb.h | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/API/hermes_sandbox/external/wasm-rt-fb.h b/API/hermes_sandbox/external/wasm-rt-fb.h
index e7aaf52..5eebcb8 100644
--- a/API/hermes_sandbox/external/wasm-rt-fb.h
+++ b/API/hermes_sandbox/external/wasm-rt-fb.h
@@ -26,6 +26,11 @@ typedef atomic_uint seed_t;
 #include <unistd.h>
 #endif
 
+#ifndef _CRT_RAND_S
+#define _CRT_RAND_S
+#endif
+#include <stdlib.h>
+
 #if (defined(__linux__) || defined(__ANDROID__)) && defined(__aarch64__)
 /* On Linux on ARM64 we most likely have at least 39 bits of virtual address
  * space https://github.com/torvalds/linux/blob/v6.7/arch/arm64/Kconfig#L1262 If
-- 
2.49.0

